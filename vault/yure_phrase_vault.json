selector.pymay_prototype/
â”œâ”€â”€ main.py                      # Mayã®å…¥åŠ›â†’å‡ºåŠ›å‡¦ç†ï¼ˆãƒ‡ãƒ¢ç”¨ï¼‰
â”œâ”€â”€ vault/
â”‚   â”œâ”€â”€ yure_phrase_vault.json   # å›ãŒä½œã£ãŸæ§‹æ–‡ãƒªã‚¹ãƒˆï¼ˆæ§‹æ–‡ï¼‹ã‚¿ã‚°ï¼‰
â”‚   â””â”€â”€ selector.py              # DPã‚„æºã‚Œã«å¿œã˜ã¦æ§‹æ–‡ã‚’é¸ã¶é–¢æ•°
â”œâ”€â”€ analyzer/
â”‚   â””â”€â”€ dummy_analyzer.py        # YPS/UO-T/DPã‚’ä»®ã«è¨­å®šï¼ˆå¾Œã§æ¥ç¶šï¼‰
â””â”€â”€ README.md                    # ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—èª¬æ˜


[
  {
    "text": "ãã‚Œã€æ‰‹ãŒã†ã¾ãå‹•ã‹ãªã„ã¨ãã«è¿‘ã„ï¼Ÿ",
    "phase": 1,
    "dp": 1.1,
    "emotion_weight": 0.3,
    "temperature": "low",
    "usage_note": "å›é¿èªãƒ»ç¸®é€€èªå¯¾å¿œå¯"
  },
  {
    "text": "ã‚‚ã—ã‚ã®æ°—æŒã¡ãŒéŸ³ã ã£ãŸã‚‰ã€ä»Šã©ã“ã§é³´ã£ã¦ã‚‹ã¨æ€ã†ï¼Ÿ",
    "phase": 3,
    "dp": 3.3,
    "emotion_weight": 0.8,
    "temperature": "medium",
    "usage_note": "Echoæ§‹æ–‡å‹å•ã„è¿”ã—"
  }
]


import json
import random

def load_vault(path="vault/yure_phrase_vault.json"):
    with open(path, "r", encoding="utf-8") as f:
        return json.load(f)

def select_phrase(dp_level, emotion_level, phase=None):
    vault = load_vault()
    filtered = [
        p for p in vault
        if abs(p["dp"] - dp_level) <= 0.5
        and p["emotion_weight"] <= emotion_level
        and (phase is None or p["phase"] == phase)
    ]
    return random.choice(filtered)["text"] if filtered else "ï¼ˆè©©çš„æ§‹æ–‡ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œãªã‹ã£ãŸï¼‰"


    from vault.selector import select_phrase

    # ä»®ã®å…¥åŠ›è§£æ
    dp = 2.3
    emotion = 0.6

    print("ğŸ“¤ Mayã®å‡ºåŠ›å€™è£œï¼š")
    print(select_phrase(dp_level=dp, emotion_level=emotion))
